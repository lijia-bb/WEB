<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // var obj={
        //     age:18
        // }
        // Object.defineProperty(obj,"age",{
        //     get(){
        //         console.log('get')
        //         return 18
        //     },
        //     set(){
        //         console.log('set')
        //     }
        // })
        // console.log(obj.age)
        // obj.age=20

        //proxy
        //修改
        // let obj={
        //     age:18
        // }
        // let pro=new Proxy(obj,{});
        // pro.age=20
        // console.log(pro.age);

        //捕获
        // let arr=[1,2,3]
        // let obj={
        //     age:18,
        //     school:"黑大"
        // }
        // arr =new Proxy(arr,{
        //     get(target,prop){
        //         console.log(target,prop)
        //        return prop in target ?target[prop]:"error"
        //     }
        // })
        // obj =new Proxy(obj,{
        //     get(target,prop){
        //         console.log(target,prop)
        //        return prop in target ?target[prop]:"error"
        //     }
        // })
        // console.log(obj.age)


        let arr=[]
            let pro=new Proxy(arr,{
                set(target,prop,val){
                   console.log(target,prop,val);/* 0 1 */
                console.log(typeof val)
                if(typeof val=="number"){
                   target[prop]=val
                    return true
                }
                else{
                    return false
                }
            }
            })
         pro[0]="a"
         pro[1]=2
        //  arr.push(1)
            console.log(arr,pro);
    </script>
</body>
</html>