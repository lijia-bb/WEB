<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
          
        }
        .box{
            margin: 8px;
        }
        .head{
            height: 1rem;
            height: 50px;
            box-shadow: 0 1px 4px rgba(0,0, 0, .05);
            display: flex;
            line-height: 50px;
        }
        .title{
            width: 54px;
           
            font-weight: bold;
            color: green;
            background:url(data:image/png;base64,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) 50% no-repeat;
            background-size: contain;
        }
        .serach input{
            margin-left: 10px;
            width: 80px;
            border:1px gray solid;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAABGdBTUEAALGPC/xhBQAABUlJREFUaAXdWT1oHEcU1unHR8ih0lZEKsWVkSrLkFaVQIYkJ93JBBUp0hm7sdMJbOlAnR0ICDdJk4AL6++wi8PChXAXMG6CMSmSTpZlFy7EmWBLQvm+5c3ydrTam9nblXQeWM2bN/N+vntvZ2afuro+sVZoB0+9Xv9qd3f3W+i4WCgUBg8ODgZB82HbAm8LvC3Qz/v6+h6Wy+V/g5kc/3gDWltbO7u/v38Njpbh17Cnby8Ast7T07M4OTn51lPWabkzoKWlpRKcuQkgP0FzyUn70Yua0HUHuu5OT083j17mP+MEaHl5eRLG70H9OX8TiRJvAOxqtVpdS1zlMZkICCAKKysrt6DvNukYvR/B24BTj9C/RCpt7e3t8Z3p6u3tHURq8n26ANlv0I/hOYMn0iB7AMZ8pVKpCR2Z9x3EORnoQIp9BuIPPJUYpdvg1Uql0v2JiYmdmPlDrEaj0d9sNmcwwR9owF4AMMsA/gNS8D97zmccC4jRQJotQVEEDIx+AG+hv7//5/Hx8fc+hsza9fX1z3d2dm5gPAs7RcNnT1CI1JV2IhULCGBuw9icNgZ6GylVnpqa+tPipxqurq5+jZSsQzgSLYCZwzs1n0ophA4B4gYA/gqjZJTCyF/d3d2XAWbT8LLoAepLgGpA14jRJ9GppN0oQqepkFszun/w6N2MkbmUNRjaYxNQz0DqSL3B+HyaLb2bSk3Dr3MTdAgG4w+SZplGxthjzx+KNmhL8c+JL4rlRoaAeANAmvHQ1G0hq3dGK7VpsbGg+fSFPmmeCx0CQi5fh4C+AWxzN3NRksUascXjwLQSfLpmBq59CAi/yHeWUC3t1mzpcRqKrZpeDJ94X/RqASDemiE1rCQ/8tBU42MhxSZvH6YNi29m3LIPAMkngF684XoD0ELt0mJzQ+uJ8U1PH6JNyl3UM9hheDc7kRZjO+JbK6cCQFBiPsrM+peGOIE+YjvGt0SXAkB4+SKAcC4EN+ZEyZwmbdu2b63MmpSLADKfAK2E85iPsR3xrZVNk3L8JglbsViMXInCiWMgYmx7+WJS7rX2FQfaF3p8nHSMba/ag4lQ5J2BUq8wZwk4xjYvqs7NRCgCCNIXnDVkv9C2/crHRAAIAs+1EHYW1gBOpNm2sW0/9XEkAMQioCU0xhqAxct9KDbHtCEAeqLHregAkFQ0X6jFZ6SgoVj5k2IzrAwBzCZqDH/7WDYpxwIFv+91u8WChmbkSYstVoTChvT7NRw4EiEgnNCLkGkquQGpzihWfqTY0p/hrCrRJ68WAmKtGVG6Y0nPsjpj8TIfio1ZS/FvqCm8s3gthyEgrkSI76IL932MizgX6ixktNSUcoEUSeq0pVTwGKmpsTMZAcQqC6J0FY++Cg0AVCMPUAKGZSydanT+xzTRoWAEEBlSD5snrdoIQD2DA5mlH3VRJ2yENTmx9whgHivbXmTsxQ/hZ5H+Afqq1obI5VoKFlv76GcA6oG27UrHAqIwi/UA8LsNShRnXqy3HE4N6khANCCRyvXfKQKEn/yX8fTImF0qUImAjPIc/+HF3YwbwGNkxBXQrDS1BerQpmBA6F42ivNIwTnw9eGrl/nQPDR/wTNiNgB5Z2bAY2RMI7j7AtbwEnunCGkN7fzTGD/IJtKY15lFAIg9NNuNlDcgDS7h3/rUyy9NHtKvAOQpnieuF812QLUFSIPLmk4L6tQC4g+UBtSpBpQG1KkH5AuqIwD5gOoYQK6gOgqQCyinmwIVnZaWcKMIvgw6DhB/WBsUDu2HQ0ND33Ou41KOTpsm51SVYEZHR3cN/5Pq/wfEdlFyq1lD2AAAAABJRU5ErkJggg==) 0 no-repeat;
            background-size: contain;
            height: 30px;
            border-radius: 10px;
            font-size: 14px;
            padding-left: 30px;
        }
        .computer{
            width: 201px;
            justify-self: end; 
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAmCAYAAAC29NkdAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAKKADAAQAAAABAAAAJgAAAADmHvr3AAAB3UlEQVRYCe1YvU7DMBC+SzqAYERiYSlMLBUzG/0RAsFKVSYmHoIH4CGQEBsIViQklJbyCKgLE2JhYWFrBUNizsgR1yp2naRRXamp1Jydu+8+f+ckygE4fmD1ubkHkbgAAWtOcUX4AA9PPSfJSaWkYCSc55xyvIxEssTHT7U75ONp2dXOkYhze7Hh6tl5gkMl5irWg+amQNgQSP8FHgRPP3hrN25fk9JoFURflIsmJwnJHDJXEjk5pyUoQnz/W5suckLzMofMpYPTllhJnii7DqyIea2CRSTLgqlVsNZurRJgRWC4kAYYhf9N/r1O/eZTxo3DGfUfzWVSMDU5Ca4WVGGJjDgJ/izUdJOkVI6jctW5zX24bfIxKcgxpmbPCeaVfq5gYQqq51MmfB7LbR2YycdU4p4pcEyyHrtuxFE5uD8LBdC+SdSbIBjyzjDIi2NSMAOdyYc4TxD5B8rk158f0XkF5wTzFnkGFJRNGlcP4ubJDhK4SFJ1t3J9lNs+ovL0fGZgD7q6/xSv1CVudI+3wig8o8B9AWLJZn0I2Kd+2oPv+efBzvWLTUzsY03wsNtaGUTRFZE6iIOznInsfWlx+eRx+/LLJt56Dw4wKlMbpWYDavYRu9FPf93s83/1F6K5muLha2yBAAAAAElFTkSuQmCC) 100% no-repeat;
        }
        .list{
         

        }
        .top{
            height: 100px;
           
            line-height: 100px;
        }
        .top h1{
            font-weight: normal;
        }
        .context{
            display: flex;
           
        }
        .context img{
            width: 100px;
            height: 150px;
        }
        .context .right{
           
           
            margin-left: 10px;
        }
        .context .right p{
            color: gray;
            font-size: 12px;

        }

        .start {
          display: flex;
            height: 50px;
            line-height: 50px;
        }
       .full{
           width: 10px;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAfhJREFUOBGlVD1LHFEUPXfWrzGJO2uhaIQ0iljESgKSpAjBwpXVKikEl6TzD6TwJ4gWaQMBS8WQgCRZ61QpglUgRbQUbMR1XfwodvbmvE1mdt/ssDPBC493733nnrkf7w2QQrSU29D9wY8poJAkkG6hD8O5E+IGgJsHkr8+7hTjdDpsnA0PLkHE4yK2r5iETyYUfdUkkRa96W3VOhLqXv8oFHNhgGCC/Xwc2jFKR0J0966w1IwVp/LasiNGOBTdxV24bhbqenCQRUY9qLzl2CasGEUVdbyA1M5R1wrq/gUqVxUp4tLghCX85D7VlonFksJQ9Un3w5S8c2sy8z3TGtGDRsla8op0vKe3O0UuMRBVDm9N8uX1Zg/3s8+hmU/sGS/wf8kN0UWZP/tgokJCY+jX3ENmWqJ3zNiJonoKXxalcPY9wFqExqmf3fvIuL+SM2WZNX9SCheHAZnZ2++h9FyxufdaQfG6CBznTvQshtDhSyA4jQieRmExhO2gaFBoi5OK8EkYECiqX9jdd1wauP7tbVgrw8a/TzETBpkp1nWZ96sg8+VV8j0j6VF4Dozo3sB4ix0ZypD3iO3r+QvQbfi1KVkobwcBkj//hmp5msSbXHxqlC67bCtDDr2fN/43wYvMaFkK1dOALNjlJa6Z8RuIP0vfAZfVhj/iqoy46fpKwgAAAABJRU5ErkJggg==) 0 no-repeat; 
            background-size: contain;     
        }
        .empty{
            width: 10px;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAeRJREFUOBGtlDsvBFEUx3d2djfiMbTsQ0NEwTaiQSGiRKWREDofgMJHEAqdSPSE0BC9SiEqWQWSzT4SzSbrsR7Fzo7fEXfNg9klbjI5j/s/vzn3MRMI1DFyudxaPp8/qEMa0GqJ0ul0QzgcvtM0zbAsqzMWi+X9aoJ+kzIXiUSmgLXhinZOcn6jJpDieRvA7tvSX64vMJvNdiAdV3I67c5kMkMq/s76AgHMUqTbC0Oh0II9dvvVQ0mlUs2GYbRWKpU2ij4swA3pylX0ZJrmNPn7crn8oOv6Y7FYfEgmk8+i07gOl0z24js6cUHqCU1uwbksefcfYPJCHeDFx5LpUq7DNp2GZeYPw2KrVuLx+Gp1D4GOATwEZvwGSFdv6Oe48PtSVwVKwCfWB/SEJyZxHaMAcBLYmdI6gJIEGg0Gg1e4tTqVZfawzBsFE+u5h4heyLfYRT/4LERrcs95gNwr+RI8nbsLJWa5I+68B8hbPSJ3kYq/03qAvHVYFShL7phni9hSuU/r0TqA8u9DOGArKvCZzXCKEzyL7O8o4Fs1T4ftHGKXisU6gOzfIKLIp2CnVCr1JhKJHVXAiZ4C7Ae8Ts6UPDfCsUUhJRYLrJGCa+xSNBo9ss8pH+gr/jK/tj0a2ETv2IZ35FSkS7HbzakAAAAASUVORK5CYII=) 0 no-repeat;
            background-size: contain; 
        }
       .start span{
           color: gray;
           font-size: 12px;
           margin-left: 5px;
       }
       .context{
           padding: 10px;
           border-bottom: 1px gray solid;
       }
    </style>
</head>
<body>
    <div class="box">
        <div class="head">
            <div class="title"></div>
            <div class="serach">
                <input type="text" placeholder="搜索">
            </div>
            <div class="computer"></div>
        </div>


        <div class="list">
            <div class="top">
                <h1>国产剧</h1>
            </div>
            <!-- <div class="context">
                <div class="left">
                    <img src="../image/狼殿下.jpg" alt="">
                </div>
                <div class="right">
                    <h3>狼殿下</h3>
                    <div class="start">
                        <div class="start-left full"></div>
                        <div class="start-left full" ></div>
                        <div class="start-left full"></div>
                        <div class="start-left empty"></div>
                        <div class="start-left empty"></div>
                        <span> 6.2</span>
                    </div>
                   
                    <p>中国大陆/古装/陈玉珊/王大陆 李沁</p>
                </div>
            </div> -->
           
            
        </div>
    </div>
    <script src="./js/ajax-post.js"></script>
    
    <script>
        var olist=document.querySelector(".list")
        var start=0
        var jugde=true/* 判断是否请求成功 只有上次请求成成功在请求下次 */
       
        function getData(){
            jugde=false
            ajaxGet("https://bird.ioliu.cn/v2?url=https://m.douban.com/rexxar/api/v2/subject_collection/tv_domestic/items?start="+start+"&count=18",function(res){
            var dataList=res.subject_collection_items
            jugde=true
            all=res.total
           
                    // for(i=0;i<dataList[i].rating.conut;i++)
                    // {
                    //     full+='<div class="start-left full"></div>'
                      
                    // }
                    // for(j=0;j<5-dataList[i].rating.conut;j++){
                    //     empty+='<div class="start-left empty"></div>'
                    // }
                   
                for(var i=0;i<dataList.length;i++)
                {
                   
                    //星星布局
                   var full=""
                   var empty=""
                   var str=""
                   if(dataList[i].rating==null)
                   {
                        str="暂无评分"
                   }
                   else{
                        var count=parseInt(dataList[i].rating.star_count)
                        for(var n=0;n<count;n++){
                            full+='<div class="start-left full"></div>'
                        }
                        for(var k=0;k<5-count;k++){
                            empty+='<div class="start-left empty"></div>'
                        }
                        srt=dataList[i].rating.value
                   }
                  
                 //整体布局
                    olist.innerHTML+='<div class="context">'
                    +'<div class="left">'
                        +'<img src="https://images.weserv.nl/?url='+dataList[i].cover.url +'"alt="">'
                        +'</div>'
                        +'<div class="right">'
                            +'<h3>'+dataList[i].title+'</h3>'
                            +'<div class="start">'
                                +full
                                +empty
                                +'<span>'+str+' </span>'
                                +'</div>'
                                +'<p>'+dataList[i].info+'</p>'
                                +'</div>'
                                +'</div>'
                }     
                
            })
            
        }
      
        //绑定滚动事件
        window.onscroll = function(){
            var oHtml=document.documentElement;
            var to=parseInt(oHtml.scrollTop)
           
            if(to+oHtml.clientHeight+10>=oHtml.scrollHeight)
            {
               
                start+=18
                console.log(start)
                if(jugde&&start<all)
                getData()
                
            }
        }
        getData()
    </script>
</body>
</html>